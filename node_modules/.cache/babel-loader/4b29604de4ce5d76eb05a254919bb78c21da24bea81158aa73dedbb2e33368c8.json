{"ast":null,"code":"var _jsxFileName = \"F:\\\\personal-budget-react (3)\\\\personal-budget-react\\\\personal-budget-react\\\\src\\\\HomePage\\\\HomePage.js\",\n  _s = $RefreshSig$();\n//modified homepage code\nimport \"./HomePage.scss\";\n// HomePage.js\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement } from \"chart.js\";\nimport { Pie, Bar } from \"react-chartjs-2\";\nimport { useNavigate } from \"react-router-dom\";\nimport LineGraph from \"./LineGraph\";\nimport { calculatePercentage } from \"../utils\";\n// Register Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, PointElement // Register PointElement\n);\nfunction HomePage() {\n  _s();\n  const navigate = useNavigate();\n  const [budgets, setBudgets] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState(\"January\");\n  const [usedBudget, setUsedBudget] = useState(0);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [allCategories, setAllCategories] = useState([]);\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\n  const [selectedYearTable, setSelectedYearTable] = useState(new Date().getFullYear());\n  const [usedselectedCategory, setUsedSelectedCategory] = useState(\"\");\n  const [usedselectedYear, setUsedSelectedYear] = useState(new Date().getFullYear());\n  const [usedselectedMonth, setUsedSelectedMonth] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [startYear, setStartYear] = useState(\"\");\n  const [startMonth, setStartMonth] = useState(\"January\");\n  const [endYear, setEndYear] = useState(\"\");\n  const [endMonth, setEndMonth] = useState(\"January\");\n  const [lineGraphData, setLineGraphData] = useState([]);\n  const [tableData, setTableData] = useState([]);\n  const [usedCategories, setUsedCategories] = useState([]);\n  useEffect(() => {\n    const storedUserId = localStorage.getItem(\"userId\");\n    const storedToken = localStorage.getItem(\"token\");\n    setUserId(storedUserId);\n    fetchData(selectedYear, selectedMonth, storedUserId);\n  }, [selectedYear, selectedMonth, selectedCategory, selectedYearTable]);\n  useEffect(() => {\n    const fetchAllCategories = async () => {\n      try {\n        const response = await axios.get('http://localhost:3000/api/get-all-categories');\n        setAllCategories(response.data);\n        const storedUserId = localStorage.getItem(\"userId\");\n        fetchDelocatedCategories(selectedYearDeallocation, selectedMonthDeallocation, storedUserId);\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    };\n    fetchAllCategories();\n  }, []);\n  const fetchData = (year, month, userId) => {\n    axios.get(`http://localhost:3000/api/get-budgets/${year}/${month}/${userId}`).then(response => {\n      setBudgets(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching budgets:\", error);\n    });\n  };\n  const fetchTableData = () => {\n    const storedUserId = localStorage.getItem(\"userId\");\n    axios.get(`http://localhost:3000/api/get-table-data/${selectedYearTable}/${storedUserId}`).then(response => {\n      setTableData(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching table data:\", error);\n    });\n  };\n  const fetchUsedCategories = () => {\n    axios.get(\"http://localhost:3000/api/get-all-categories\").then(response => {\n      setUsedCategories(response.data);\n      // Assuming you want to select the first category by default\n      setUsedSelectedCategory(response.data[0]);\n    }).catch(error => {\n      console.error(\"Error fetching used categories:\", error);\n    });\n  };\n  const checkTokenExpiration = () => {\n    const token = localStorage.getItem(\"token\");\n    const expirationTime = localStorage.getItem(\"tokenExpiration\");\n    console.log(\"Token:\", token);\n    console.log(\"Expiration Time:\", expirationTime);\n    if (token && expirationTime) {\n      const currentTime = new Date().getTime();\n      const timeToExpire = expirationTime - currentTime;\n      if (timeToExpire < 20000 && timeToExpire > 0) {\n        // Show popup when token is about to expire in 20 seconds\n        const extendSession = window.confirm(\"Your session is about to expire. Do you want to extend it?\");\n        if (extendSession) {\n          const newExpirationTime = Date.now() + 60 * 1000; // Extend by 1 minutes\n          localStorage.setItem(\"tokenExpiration\", newExpirationTime);\n        } else {\n          // Redirect to root route if session is not extended\n          localStorage.removeItem(\"username\");\n          localStorage.removeItem(\"token\");\n          localStorage.removeItem(\"password\");\n          localStorage.removeItem(\"userid\");\n          localStorage.removeItem(\"tokenExpiration\");\n          navigate(\"/\");\n        }\n      }\n    }\n  };\n\n  // Check token expiration on component mount and every 5 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      checkTokenExpiration();\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const totalBudget = budgets.reduce((acc, budget) => acc + budget.allocated, 0);\n  const pieData = {\n    labels: budgets.map(b => b.category),\n    datasets: [{\n      data: budgets.map(b => b.allocated),\n      backgroundColor: [\"red\", \"blue\", \"green\", \"yellow\", \"purple\"]\n    }]\n  };\n  const pieOptions = {\n    plugins: {\n      tooltip: {\n        callbacks: {\n          label: context => {\n            const category = budgets[context.dataIndex].category;\n            const allocated = budgets[context.dataIndex].allocated;\n            const percentage = calculatePercentage(allocated, totalBudget);\n            const additionalInfo = `${category} - ${allocated} (${percentage}% of total budget)`;\n            return additionalInfo;\n          }\n        }\n      }\n    }\n  };\n  const barData = {\n    labels: budgets.map(b => b.category),\n    datasets: [{\n      label: \"Allocated Budget\",\n      data: budgets.map(b => b.allocated),\n      backgroundColor: \"rgba(0, 123, 255, 0.5)\"\n    }, {\n      label: \"Used Budget\",\n      data: budgets.map(b => b.used),\n      backgroundColor: \"rgba(255, 193, 7, 0.5)\"\n    }]\n  };\n  const handleUsedBudgetSubmit = async e => {\n    e.preventDefault();\n    const userId = localStorage.getItem(\"userId\");\n    const usedBudgetNumber = parseFloat(usedBudget);\n    const payload = {\n      category: usedselectedCategory,\n      used: usedBudgetNumber,\n      month: usedselectedMonth,\n      year: usedselectedYear,\n      userId: userId\n    };\n    try {\n      await axios.post(\"http://localhost:3000/api/enter-used-budget\", payload);\n      console.log(\"Used Budget update successful\");\n      fetchData(selectedMonth, userId);\n    } catch (error) {\n      console.error(\"Error entering used budget:\", error);\n      if (error.response && error.response.data) {\n        console.error(\"Server error message:\", error.response.data);\n      }\n    }\n  };\n  const fetchLineGraphData = () => {\n    const storedUserId = localStorage.getItem(\"userId\");\n\n    // Ensure selectedCategory is defined\n    if (usedselectedCategory) {\n      // Format months with leading zeros\n      const formattedStartMonth = startMonth.padStart(2, \"0\");\n      const formattedEndMonth = endMonth.padStart(2, \"0\");\n\n      // Make the API call\n      fetchLineData(storedUserId, formattedStartMonth, formattedEndMonth);\n    } else {\n      console.error(\"Selected category is null or undefined.\");\n    }\n  };\n  const fetchLineData = (userId, formattedStartMonth, formattedEndMonth) => {\n    axios.get(`http://localhost:3000/api/get-line-graph-data-range/${usedselectedCategory}/${startYear}/${formattedStartMonth}/${endYear}/${formattedEndMonth}/${userId}`).then(response => {\n      setLineGraphData(response.data);\n    }).catch(error => {\n      console.error(\"Error fetching line graph data:\", error);\n    });\n  };\n  useEffect(() => {\n    if (selectedYearTable) {\n      fetchTableData();\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pagecontent\",\n    style: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      style: {\n        marginTop: \"20px\",\n        paddingTop: \"20px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/usermanual\",\n            tabIndex: \"3\",\n            children: \"User Manual\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/homepage\",\n            tabIndex: \"4\",\n            children: \"HomePage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/configure\",\n            tabIndex: \"5\",\n            children: \"Configure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/enterusedbudget\",\n            tabIndex: \"6\",\n            children: \"Allocate Used Budget\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homepage-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            width: \"100%\",\n            height: \"55px\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            gap: \"15px\",\n            justifyContent: \"space-around\",\n            marginTop: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: \"flex\",\n              width: \"50%\"\n            },\n            children: [\"Select Month:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedMonth,\n              onChange: e => setSelectedMonth(e.target.value),\n              children: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"].map(month => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: month,\n                children: month\n              }, month, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: \"flex\",\n              width: \"50%\"\n            },\n            children: [\"Select Year:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selectedYear,\n              onChange: e => setSelectedYear(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"onlychart\",\n          style: {\n            width: \"800px\",\n            height: \"410px\",\n            display: \"flex\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-box pie-chart-box\",\n            style: {\n              width: \"100%\",\n              height: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Budget Allocation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), budgets.length > 0 ? /*#__PURE__*/_jsxDEV(Pie, {\n              data: pieData,\n              options: pieOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-box bar-chart-box\",\n            style: {\n              height: \"409px\",\n              width: \"638px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Budget Usage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 15\n            }, this), budgets.length > 0 ? /*#__PURE__*/_jsxDEV(Bar, {\n              data: barData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tablecontent\",\n          style: {\n            width: \"100%\",\n            paddingBottom: \"4cm\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"year-selector\",\n            style: {\n              width: \"100%\",\n              paddingTop: \"30px\",\n              height: \"80px\",\n              display: \"flex\",\n              flexDirection: \"row\",\n              gap: \"10px\",\n              justifyItems: \"center\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: \"flex\",\n                padding: \"10px\",\n                width: \"100%\"\n              },\n              children: [\"Select Table Year:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: selectedYearTable,\n                onChange: e => setSelectedYearTable(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchTableData,\n              children: \"Get Table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"budget-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"Budget Analysis Table for Year \", selectedYearTable]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table\",\n              style: {\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Month\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 420,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Allocated\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Used budget\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    scope: \"col\",\n                    children: \"Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: tableData.map((data, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.month\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.allocated\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.used\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: data.allocated - data.used > 0 ? `${data.allocated - data.used} can be used` : `Exceeded by ${data.used - data.allocated}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"line-graph-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Linear Graph Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          style: {\n            width: \"auto\",\n            height: \"70px\",\n            display: \"flex\",\n            flexDirection: \"row\",\n            gap: \"15px\",\n            justifyContent: \"space-around\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Select Category:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              value: usedselectedCategory,\n              onChange: e => setUsedSelectedCategory(e.target.value),\n              children: budgets.map(budget => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: budget.category,\n                children: budget.category\n              }, budget.category, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Start Year:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: startYear,\n              onChange: e => setStartYear(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"End Year:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: endYear,\n              onChange: e => setEndYear(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: fetchLineGraphData,\n            children: \"Fetch Line Graph Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LineGraph, {\n          lineGraphData: lineGraphData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"L9H8ehbMBLtkHL5+mmmXLUe1rHE=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","axios","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","PointElement","Pie","Bar","useNavigate","LineGraph","calculatePercentage","jsxDEV","_jsxDEV","register","HomePage","_s","navigate","budgets","setBudgets","selectedMonth","setSelectedMonth","usedBudget","setUsedBudget","selectedCategory","setSelectedCategory","allCategories","setAllCategories","selectedYear","setSelectedYear","Date","getFullYear","selectedYearTable","setSelectedYearTable","usedselectedCategory","setUsedSelectedCategory","usedselectedYear","setUsedSelectedYear","usedselectedMonth","setUsedSelectedMonth","userId","setUserId","startYear","setStartYear","startMonth","setStartMonth","endYear","setEndYear","endMonth","setEndMonth","lineGraphData","setLineGraphData","tableData","setTableData","usedCategories","setUsedCategories","storedUserId","localStorage","getItem","storedToken","fetchData","fetchAllCategories","response","get","data","fetchDelocatedCategories","selectedYearDeallocation","selectedMonthDeallocation","error","console","year","month","then","catch","fetchTableData","fetchUsedCategories","checkTokenExpiration","token","expirationTime","log","currentTime","getTime","timeToExpire","extendSession","window","confirm","newExpirationTime","now","setItem","removeItem","interval","setInterval","clearInterval","totalBudget","reduce","acc","budget","allocated","pieData","labels","map","b","category","datasets","backgroundColor","pieOptions","plugins","tooltip","callbacks","label","context","dataIndex","percentage","additionalInfo","barData","used","handleUsedBudgetSubmit","e","preventDefault","usedBudgetNumber","parseFloat","payload","post","fetchLineGraphData","formattedStartMonth","padStart","formattedEndMonth","fetchLineData","className","style","display","children","marginTop","paddingTop","href","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","width","height","flexDirection","gap","justifyContent","value","onChange","target","type","length","options","paddingBottom","justifyItems","padding","onClick","scope","index","_c","$RefreshReg$"],"sources":["F:/personal-budget-react (3)/personal-budget-react/personal-budget-react/src/HomePage/HomePage.js"],"sourcesContent":["//modified homepage code\r\nimport \"./HomePage.scss\";\r\n// HomePage.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  PointElement,\r\n} from \"chart.js\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport LineGraph from \"./LineGraph\";\r\nimport { calculatePercentage } from \"../utils\";\r\n// Register Chart.js components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  PointElement // Register PointElement\r\n);\r\n\r\nfunction HomePage() {\r\n  const navigate = useNavigate();\r\n  const [budgets, setBudgets] = useState([]);\r\n  const [selectedMonth, setSelectedMonth] = useState(\"January\");\r\n  const [usedBudget, setUsedBudget] = useState(0);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [allCategories, setAllCategories] = useState([]);\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear());\r\n  const [selectedYearTable, setSelectedYearTable] = useState(\r\n    new Date().getFullYear()\r\n  );\r\n  const [usedselectedCategory, setUsedSelectedCategory] = useState(\"\");\r\n  const [usedselectedYear, setUsedSelectedYear] = useState(\r\n    new Date().getFullYear()\r\n  );\r\n  const [usedselectedMonth, setUsedSelectedMonth] = useState(\"\");\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [startYear, setStartYear] = useState(\"\");\r\n  const [startMonth, setStartMonth] = useState(\"January\");\r\n  const [endYear, setEndYear] = useState(\"\");\r\n  const [endMonth, setEndMonth] = useState(\"January\");\r\n  const [lineGraphData, setLineGraphData] = useState([]);\r\n  const [tableData, setTableData] = useState([]);\r\n  const [usedCategories, setUsedCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const storedUserId = localStorage.getItem(\"userId\");\r\n    const storedToken = localStorage.getItem(\"token\");\r\n    setUserId(storedUserId);\r\n    fetchData(selectedYear, selectedMonth, storedUserId);\r\n  }, [selectedYear, selectedMonth, selectedCategory, selectedYearTable]);\r\n\r\n \r\n  useEffect(() => {\r\n    const fetchAllCategories = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:3000/api/get-all-categories');\r\n        setAllCategories(response.data);\r\n        const storedUserId = localStorage.getItem(\"userId\");\r\n\r\n        fetchDelocatedCategories(selectedYearDeallocation,selectedMonthDeallocation,storedUserId)\r\n      } catch (error) {\r\n        console.error('Error fetching categories:', error);\r\n      }\r\n    };\r\n\r\n    fetchAllCategories();\r\n  }, []);\r\n\r\n  const fetchData = (year, month, userId) => {\r\n    axios\r\n      .get(`http://localhost:3000/api/get-budgets/${year}/${month}/${userId}`)\r\n      .then((response) => {\r\n        setBudgets(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching budgets:\", error);\r\n      });\r\n  };\r\n\r\n  const fetchTableData = () => {\r\n    const storedUserId = localStorage.getItem(\"userId\");\r\n    axios\r\n      .get(\r\n        `http://localhost:3000/api/get-table-data/${selectedYearTable}/${storedUserId}`\r\n      )\r\n      .then((response) => {\r\n        setTableData(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching table data:\", error);\r\n      });\r\n  };\r\n\r\n  const fetchUsedCategories = () => {\r\n    axios\r\n      .get(\"http://localhost:3000/api/get-all-categories\")\r\n      .then((response) => {\r\n        setUsedCategories(response.data);\r\n        // Assuming you want to select the first category by default\r\n        setUsedSelectedCategory(response.data[0]);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching used categories:\", error);\r\n      });\r\n  };\r\n\r\n  const checkTokenExpiration = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const expirationTime = localStorage.getItem(\"tokenExpiration\");\r\n    console.log(\"Token:\", token);\r\n    console.log(\"Expiration Time:\", expirationTime);\r\n\r\n    if (token && expirationTime) {\r\n      const currentTime = new Date().getTime();\r\n      const timeToExpire = expirationTime - currentTime;\r\n\r\n      if (timeToExpire < 20000 && timeToExpire > 0) {\r\n        // Show popup when token is about to expire in 20 seconds\r\n        const extendSession = window.confirm(\r\n          \"Your session is about to expire. Do you want to extend it?\"\r\n        );\r\n        if (extendSession) {\r\n          const newExpirationTime = Date.now() + 60 * 1000; // Extend by 1 minutes\r\n          localStorage.setItem(\"tokenExpiration\", newExpirationTime);\r\n        } else {\r\n          // Redirect to root route if session is not extended\r\n          localStorage.removeItem(\"username\");\r\n          localStorage.removeItem(\"token\");\r\n          localStorage.removeItem(\"password\");\r\n          localStorage.removeItem(\"userid\");\r\n          localStorage.removeItem(\"tokenExpiration\");\r\n          navigate(\"/\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // Check token expiration on component mount and every 5 seconds\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      checkTokenExpiration();\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const totalBudget = budgets.reduce(\r\n    (acc, budget) => acc + budget.allocated,\r\n    0\r\n  );\r\n\r\n  const pieData = {\r\n    labels: budgets.map((b) => b.category),\r\n    datasets: [\r\n      {\r\n        data: budgets.map((b) => b.allocated),\r\n        backgroundColor: [\"red\", \"blue\", \"green\", \"yellow\", \"purple\"],\r\n      },\r\n    ],\r\n  };\r\n\r\n  const pieOptions = {\r\n    plugins: {\r\n      tooltip: {\r\n        callbacks: {\r\n          label: (context) => {\r\n            const category = budgets[context.dataIndex].category;\r\n            const allocated = budgets[context.dataIndex].allocated;\r\n            const percentage = calculatePercentage(allocated, totalBudget);\r\n\r\n            const additionalInfo = `${category} - ${allocated} (${percentage}% of total budget)`;\r\n\r\n            return additionalInfo;\r\n          },\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  const barData = {\r\n    labels: budgets.map((b) => b.category),\r\n    datasets: [\r\n      {\r\n        label: \"Allocated Budget\",\r\n        data: budgets.map((b) => b.allocated),\r\n        backgroundColor: \"rgba(0, 123, 255, 0.5)\",\r\n      },\r\n      {\r\n        label: \"Used Budget\",\r\n        data: budgets.map((b) => b.used),\r\n        backgroundColor: \"rgba(255, 193, 7, 0.5)\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const handleUsedBudgetSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const userId = localStorage.getItem(\"userId\");\r\n    const usedBudgetNumber = parseFloat(usedBudget);\r\n\r\n    const payload = {\r\n      category: usedselectedCategory,\r\n      used: usedBudgetNumber,\r\n      month: usedselectedMonth,\r\n      year: usedselectedYear,\r\n      userId: userId,\r\n    };\r\n\r\n    try {\r\n      await axios.post(\"http://localhost:3000/api/enter-used-budget\", payload);\r\n      console.log(\"Used Budget update successful\");\r\n      fetchData(selectedMonth, userId);\r\n    } catch (error) {\r\n      console.error(\"Error entering used budget:\", error);\r\n      if (error.response && error.response.data) {\r\n        console.error(\"Server error message:\", error.response.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchLineGraphData = () => {\r\n    const storedUserId = localStorage.getItem(\"userId\");\r\n\r\n    // Ensure selectedCategory is defined\r\n    if (usedselectedCategory) {\r\n      // Format months with leading zeros\r\n      const formattedStartMonth = startMonth.padStart(2, \"0\");\r\n      const formattedEndMonth = endMonth.padStart(2, \"0\");\r\n\r\n      // Make the API call\r\n      fetchLineData(storedUserId, formattedStartMonth, formattedEndMonth);\r\n    } else {\r\n      console.error(\"Selected category is null or undefined.\");\r\n    }\r\n  };\r\n\r\n  const fetchLineData = (userId, formattedStartMonth, formattedEndMonth) => {\r\n    axios\r\n      .get(\r\n        `http://localhost:3000/api/get-line-graph-data-range/${usedselectedCategory}/${startYear}/${formattedStartMonth}/${endYear}/${formattedEndMonth}/${userId}`\r\n      )\r\n      .then((response) => {\r\n        setLineGraphData(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching line graph data:\", error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedYearTable) {\r\n      fetchTableData();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"pagecontent\" style={{ display: \"flex\" }}>\r\n      <div\r\n        className=\"sidebar\"\r\n        style={{  marginTop: \"20px\", paddingTop: \"20px\" }}\r\n      >\r\n        <ul>\r\n          <li>\r\n            <a href=\"/usermanual\" tabIndex=\"3\">\r\n              User Manual\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"/homepage\" tabIndex=\"4\">\r\n              HomePage\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"/configure\" tabIndex=\"5\">\r\n              Configure\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a href=\"/enterusedbudget\" tabIndex=\"6\">\r\n              Allocate Used Budget\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div className=\"homepage-container\">\r\n        <div className=\"charts-container\">\r\n          {/* Month and Year Selection Form */}\r\n          <form\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"55px\",\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              gap: \"15px\",\r\n              justifyContent: \"space-around\",\r\n              marginTop: \"20px\",\r\n            }}\r\n          >\r\n            <label style={{ display: \"flex\", width: \"50%\" }}>\r\n              Select Month:\r\n              <select\r\n                value={selectedMonth}\r\n                onChange={(e) => setSelectedMonth(e.target.value)}\r\n              >\r\n                {[\r\n                  \"January\",\r\n                  \"February\",\r\n                  \"March\",\r\n                  \"April\",\r\n                  \"May\",\r\n                  \"June\",\r\n                  \"July\",\r\n                  \"August\",\r\n                  \"September\",\r\n                  \"October\",\r\n                  \"November\",\r\n                  \"December\",\r\n                ].map((month) => (\r\n                  <option key={month} value={month}>\r\n                    {month}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n\r\n            <label style={{ display: \"flex\", width: \"50%\" }}>\r\n              Select Year:\r\n              <input\r\n                type=\"number\"\r\n                value={selectedYear}\r\n                onChange={(e) => setSelectedYear(e.target.value)}\r\n              />\r\n            </label>\r\n          </form>\r\n\r\n          <div\r\n            className=\"onlychart\"\r\n            style={{ width: \"800px\", height: \"410px\", display: \"flex\" }}\r\n          >\r\n            {/* Pie Chart */}\r\n            <div\r\n              className=\"chart-box pie-chart-box\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n            >\r\n              <h2>Budget Allocation</h2>\r\n              {budgets.length > 0 ? (\r\n                <Pie data={pieData} options={pieOptions} />\r\n              ) : (\r\n                <p>No data available</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Bar Chart */}\r\n            <div\r\n              className=\"chart-box bar-chart-box\"\r\n              style={{ height: \"409px\", width: \"638px\" }}\r\n            >\r\n              <h2>Budget Usage</h2>\r\n              {budgets.length > 0 ? (\r\n                <Bar data={barData} />\r\n              ) : (\r\n                <p>No data available</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className=\"tablecontent\"\r\n            style={{ width: \"100%\", paddingBottom: \"4cm\" }}\r\n          >\r\n            <div\r\n              className=\"year-selector\"\r\n              style={{\r\n                width: \"100%\",\r\n                paddingTop: \"30px\",\r\n                height: \"80px\",\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                gap: \"10px\",\r\n                justifyItems: \"center\",\r\n              }}\r\n            >\r\n              <label\r\n                style={{ display: \"flex\", padding: \"10px\", width: \"100%\" }}\r\n              >\r\n                Select Table Year:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selectedYearTable}\r\n                  onChange={(e) => setSelectedYearTable(e.target.value)}\r\n                />\r\n              </label>\r\n              <button onClick={fetchTableData}>Get Table</button>\r\n            </div>\r\n\r\n            <div className=\"budget-table\">\r\n              <h2>Budget Analysis Table for Year {selectedYearTable}</h2>\r\n\r\n              <table className=\"table\" style={{ width: \"100%\" }}>\r\n                <thead>\r\n                  <tr>\r\n                    {/* <th scope=\"col\">#</th>    */}\r\n                    <th scope=\"col\">Category</th>\r\n                    {/* <th scope=\"col\">Year</th>  */}\r\n                    <th scope=\"col\">Month</th>\r\n                    <th scope=\"col\">Allocated</th>\r\n                    <th scope=\"col\">Used budget</th>\r\n                    <th scope=\"col\">Summary</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {tableData.map((data, index) => (\r\n                    <tr key={index} className=\"table-row\">\r\n                      {/*    <th scope=\"row\">{data.id}</th>     */}\r\n                      <td>{data.category}</td>\r\n                      {/* <td>{data.year}</td>          */}\r\n                      <td>{data.month}</td>\r\n                      <td>{data.allocated}</td>\r\n                      <td>{data.used}</td>\r\n                      <td>\r\n                        {data.allocated - data.used > 0\r\n                          ? `${data.allocated - data.used} can be used`\r\n                          : `Exceeded by ${data.used - data.allocated}`}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* Linear Graph Form */}\r\n        <div className=\"line-graph-container\">\r\n          <h2>Linear Graph Data</h2>\r\n          <form\r\n            style={{\r\n              width: \"auto\",\r\n              height: \"70px\",\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              gap: \"15px\",\r\n              justifyContent: \"space-around\",\r\n            }}\r\n          >\r\n            <label>\r\n              Select Category:\r\n              <select\r\n                value={usedselectedCategory}\r\n                onChange={(e) => setUsedSelectedCategory(e.target.value)}\r\n              >\r\n                {budgets.map((budget) => (\r\n                  <option key={budget.category} value={budget.category}>\r\n                    {budget.category}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </label>\r\n\r\n            <label>\r\n              Start Year:\r\n              <input\r\n                type=\"number\"\r\n                value={startYear}\r\n                onChange={(e) => setStartYear(e.target.value)}\r\n              />\r\n            </label>\r\n\r\n            <label>\r\n              End Year:\r\n              <input\r\n                type=\"number\"\r\n                value={endYear}\r\n                onChange={(e) => setEndYear(e.target.value)}\r\n              />\r\n            </label>\r\n\r\n\r\n            <button type=\"button\" onClick={fetchLineGraphData}>\r\n              Fetch Line Graph Data\r\n            </button>\r\n          </form>\r\n\r\n          <LineGraph lineGraphData={lineGraphData} />\r\n        </div>\r\n\r\n        {/* Form for entering Used Budget */}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}