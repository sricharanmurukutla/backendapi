{"ast":null,"code":"var _jsxFileName = \"F:\\\\personal-budget-react (3)\\\\personal-budget-react\\\\personal-budget-react\\\\src\\\\Menu\\\\Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport './Menu.css'; // Import the CSS file\nimport axios from 'axios';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CustomNavBar = styled.nav`\n  color: white;\n`;\n_c = CustomNavBar;\nfunction Menu() {\n  _s();\n  const [userId, setUserId] = useState('');\n  const [userFirstName, setUserFirstName] = useState('');\n  const value = localStorage.getItem('userId');\n  const navigate = useNavigate();\n  const location = useLocation();\n  useEffect(() => {\n    setUserId(value || '');\n\n    // Fetch user details when userId is available\n    if (value) {\n      // Replace the following API call with your actual API endpoint to fetch user details\n      fetchUserDetails(value);\n    }\n  }, [value]);\n  const fetchUserDetails = async userId => {\n    try {\n      // Replace the following with your actual API endpoint to fetch user details\n      const response = await axios.get(`http://localhost:${3002}/api/users/${userId}`);\n      const userData = response.data;\n\n      // Assuming the API response has a \"firstname\" property\n      setUserFirstName(userData.firstname);\n    } catch (error) {\n      console.error('Error fetching user details:', error.message);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    setUserId('');\n    setUserFirstName('');\n    navigate('/');\n    location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(CustomNavBar, {\n    className: \"menu\",\n    \"aria-label\": \"Main menu\",\n    itemScope: true,\n    itemType: \"https://schema.org/SiteNavigationElement\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        listStyleType: 'none',\n        padding: 15\n      },\n      children: !userId ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginRight: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            itemProp: \"url\",\n            to: \"/\",\n            tabIndex: \"5\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginRight: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            itemProp: \"url\",\n            to: \"/register\",\n            tabIndex: \"6\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginRight: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Welcome, \", userFirstName, \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            marginRight: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            itemProp: \"url\",\n            to: \"/login\",\n            tabIndex: \"11\",\n            onClick: handleLogout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Menu, \"vwY6ci9A4Rcofxhr0KzM+MuiV28=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c2 = Menu;\nexport default Menu;\nvar _c, _c2;\n$RefreshReg$(_c, \"CustomNavBar\");\n$RefreshReg$(_c2, \"Menu\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useLocation","axios","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","CustomNavBar","nav","_c","Menu","_s","userId","setUserId","userFirstName","setUserFirstName","value","localStorage","getItem","navigate","location","fetchUserDetails","response","get","userData","data","firstname","error","console","message","handleLogout","clear","reload","className","itemScope","itemType","children","style","display","justifyContent","listStyleType","padding","marginRight","itemProp","to","tabIndex","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c2","$RefreshReg$"],"sources":["F:/personal-budget-react (3)/personal-budget-react/personal-budget-react/src/Menu/Menu.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport './Menu.css'; // Import the CSS file\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\n\r\nconst CustomNavBar = styled.nav`\r\n  color: white;\r\n`;\r\n\r\n\r\n\r\nfunction Menu() {\r\n  const [userId, setUserId] = useState('');\r\n  const [userFirstName, setUserFirstName] = useState('');\r\n  const value = localStorage.getItem('userId');\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setUserId(value || '');\r\n\r\n    // Fetch user details when userId is available\r\n    if (value) {\r\n      // Replace the following API call with your actual API endpoint to fetch user details\r\n      fetchUserDetails(value);\r\n    }\r\n  }, [value]);\r\n\r\n  \r\n\r\n  const fetchUserDetails = async (userId) => {\r\n    try {\r\n      // Replace the following with your actual API endpoint to fetch user details\r\n      const response = await axios.get(`http://localhost:${3002}/api/users/${userId}`);\r\n      const userData = response.data;\r\n  \r\n      // Assuming the API response has a \"firstname\" property\r\n      setUserFirstName(userData.firstname);\r\n    } catch (error) {\r\n      console.error('Error fetching user details:', error.message);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    setUserId('');\r\n    setUserFirstName('');\r\n    navigate('/');\r\n    location.reload();\r\n  };\r\n\r\n  return (\r\n    <CustomNavBar className=\"menu\" aria-label=\"Main menu\" itemScope itemType=\"https://schema.org/SiteNavigationElement\">\r\n<ul style={{ display: 'flex', justifyContent: 'flex-end', listStyleType: 'none', padding: 15 }}>\r\n  {!userId ? (\r\n    <>\r\n      <li style={{ marginRight: '10px' }}><Link itemProp=\"url\" to=\"/\" tabIndex=\"5\">Login</Link></li>\r\n      <li style={{ marginRight: '10px' }}><Link itemProp=\"url\" to=\"/register\" tabIndex=\"6\">Register</Link></li>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <li style={{ marginRight: '10px' }}><span>Welcome, {userFirstName}!</span></li>\r\n      <li style={{ marginRight: '10px' }}><Link itemProp=\"url\" to=\"/login\" tabIndex=\"11\" onClick={handleLogout}>Logout</Link></li>\r\n    </>\r\n  )}\r\n</ul>\r\n\r\n    </CustomNavBar>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}